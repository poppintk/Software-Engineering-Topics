
Customer ---> Client(Browser) ----> Server  -----> Stripe

1) customer provides card details and clicks Pay button
2) client call stripe.createPaymentMethod
3) Returns PaymentMethod to client
4) client Finalizes payment with order details and PaymentMethod ID to server
5) server call to Stripe with POST /v1/payment_intentsconfirm=true
6) stripe attempts payment
7) Stripe returns new PaymentIntent with status "succeeded"




Client(Browser) ----> Server  -----> Stripe

Credit card
Token(includes card details) and Charge
1) Client call POST /v1/tokens to Stripe
2) Client get token and send to the server
3) The server get the token and POST /v1/charges to the Stripe



ACH debit (money transaction are not finalized immediately)
Token(includes card details and bank account details) and Charge(pending state)
Users ran their order filfillment logic days later, when they received a webhook indicating that charge had succeeded
